{% extends 'base.html.twig' %}


{% block title %}Mon compte{% endblock %}

{% block body %}
    <h1>Mon compte</h1>

    {% if is_granted('ROLE_USER') %}
        <!-- The sidebar -->
        <div class="sidebar">
            <a href="#"><i class="fa fa-info-circle"></i> Information</a>
            <a href="#"><i class="fa fa-fw fa-home"></i> Coordonnées</a>
            <a href="#"><i class="fa fa-mobile"></i> Catégories</a>
            <a href="#"><i class="fa fa-heart"></i> Centres d'intérêts</a>
            <a href="#"><i class="fa fa-picture-o"></i> Mes publications</a>
            <a href="#"><i class="fa fa-users"></i> Discussion</a>
        </div>

    {% else %}
        <p class="text-center">Seuls les users peuvent accéder à cette page <br>
            <a href="{{ path('app_login') }}">Connexion</a>
        </p>
    {% endif %}

    {% if app.user %}
        {% if is_granted('ROLE_USER') %}
         <div class="bg-profile">
            {% for user in users %}

                <div class="card cardProfile" style="width: 100%;" id="cardProfile">
                    <div class="card-body">
                        <img class="card-img-top imgProfile" src="https://via.placeholder.com/300
C/O https://placeholder.com/" alt="John" style="width:20% ">
                        <h1>{{ user.firstname }} {{ user.lastname }}</h1>
                        <p class="title">{{ user.email }}</p>
                        <p>{{ user.gender }}</p>
                        <p>{{ user.birthday | date }}</p>
                        <p>{{ user.profession }}</p>
                        <p>{{ user.marital }}</p>

                        <p>
                            <button class="btnProfile"><a class="linkProfile" href="{{ path('user_show', {'id': user.id}) }}">Voir</a></button>
                        </p>
                        <p>
                            <button class="btnProfile"><a class="linkProfile" href="{{ path('user_edit', {'id': user.id}) }}">Modifier</a></button>
                        </p>
                    </div>
                </div>

            {% else %}
                <tr>
                    <td colspan="13">no records found</td>
                </tr>
            {% endfor %}

        {% endif %}
    {% endif %}
    </div>
{% endblock %}
